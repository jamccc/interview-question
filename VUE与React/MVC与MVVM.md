# MVC与MVVM

MVC与MVVM都是软件架构的一种设计模式。

## MVC（单向数据流）

- View：用户界面。负责数据的展示。
- Model：数据层。操作数据，对数据进行读取和存储。（存有数据和处理数据相应的方法）
- Controller：控制器。翻译用户的输入并根据用户的输入操作视图和数据。在MVC中，所有的请求都会先交给控制器，再由控制器来决定如何响应用户的输入，无论是更新模型中的信息还是渲染相应的视图，都是有控制器来完成的。控制器是视图和数据的纽带。（主要采用观察者模式）
- 视图的渲染时通过操作DOM来实现的。
- MVC中大量的DOM操作使页面渲染性能降低，加载速度变慢，影响用户体验。当Model频繁发生变化，开发者需要主动更新到View.


## MVVM（数据绑定）

- V：view通过模板语法来声明式的将数据渲染进DOM。DON为virtualDOM(虚拟DOM)
- Model：数据层(只有数据)。
- ViewModel：核心是数据绑定与业务逻辑。通过数据绑定，当model数据发生变化，viewmodel能监听到，viewmodel改变，也能更新model。由于view其实就是虚拟dom的渲染，也就能更新视图。
- MVVM将view和model的同步逻辑自动化了。视图的渲染通过操作虚拟DOM实现。
- UI是通过数据驱动的，数据一旦改变就会响应的更新对应的UI,UI如果改变，也会改变对应的数据。这种方式就可以在业务处理中心只关心数据的流转，而无需直接和页面打交道。ViewModel只关心数据和业务的处理，不关心view如何处理数据，这种情况下，View和Model可以单独出来。并且也可以将一些复用的逻辑放在ViewModel中，让多个View复用这个ViewModel。
- 通过viewmodel将视图中的状态和用户的行为分离出一个抽象，这是MVVM的精髓。
- VM负责转换model中国的数据让数据变得更容易管理和使用。VM向上与是视图层实现双向数据绑定，向下与model层通过接口进行数据交互，起到承上启下的作用。


# 数据绑定 

## vue 双向数据绑定

- 双向数据绑定是组件内部实现的数据双向绑定，跨组件，父子组件，双向绑定时比较困难的。
- 双向绑定是内存数据与DOM页面的双向绑定，JS操作内存，用户操作页面。
- 原理：VUE采用数据劫持&发布订阅者模式实现的双向绑定。通过ES5提供的Object.definePrototype()方法来劫持各属性的getter和setter，并在数据对象发生变动时通知订阅者，触发相应的监听回调。并且，由于是在不同的数据上触发同步，可以精确的将变更发送给绑定的视图，而不是对所有的数据都执行一次检测。

## redux的单向数据流

![redux单向数据流图](https://github.com/lhalou/interview-question/blob/master/images/redux%E7%9A%84%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81.PNG)

